(function(){var c=YAHOO,b=c.util.Dom,a=c.util.Event;TB.namespace("popup");TB.popup=function(f,h,d){var e=this;this.trigger=f;this.target=h;this.closebtn=d;this._offsettop=parseInt(b.getStyle(this.target,"height"))/2;this._offsetleft=parseInt(b.getStyle(this.target,"width"))/2;var i={Target:function(){b.removeClass(e.target,"hidden");i.Createshade();if(6==YAHOO.env.ua.ie){i.Ie6fn()}else{b.addClass(e.target,"supernatant");if(YAHOO.env.ua.opera){var k=parseInt(b.getStyle(e.target,"height"))/2,j=parseInt(b.getStyle(e.target,"width"))/2;b.get(e.target).style.cssText="margin-left:-"+j+"px;margin-top:-"+k+"px"}else{b.get(e.target).style.cssText="margin-left:-"+e._offsetleft+"px;margin-top:-"+e._offsettop+"px"}}},Trigger:function(j){var k=b.get(j);a.on(k,"click",i.Target)},Createshade:function(){if(!b.get("mypopupshadeDiv")){if(6==YAHOO.env.ua.ie){var j=document.createElement("iframe");j.allowtranseparency=true;j.src="about:blank"}else{var j=document.createElement("div");b.addClass(j,"bigshade")}j.id="mypopupshadeDiv";document.body.appendChild(j)}},Hide:function(){b.addClass(e.target,"hidden");var j=document.getElementById("mypopupshadeDiv");if(j){j.parentNode.removeChild(j)}},Ie6fn:function(){i.AdjustPostion(e.target,e._offsetleft);i.AdjustBackground(b.getViewportHeight(),b.getDocumentScrollTop())},AdjustPostion:function(l,k){var l=b.get(l);if(l){b.addClass(l,"supernatant");var j=b.getDocumentScrollTop()+(b.getViewportHeight()/2-e._offsetleft);l.style.cssText="margin-left:-"+k+"px;top:"+j+"px;"}},AdjustBackground:function(j,m){var l=b.get("mypopupshadeDiv");if(l){var k=l.contentWindow.document;if(!k.body){k.designMode="On";k.contentEditable=true;k.open();k.writeln('<body style="margin:0px;padding:0px;background:#000;"></body>');k.close()}b.addClass(l,"bigshade");l.style.cssText="height:"+j+"px;top:"+m+"px;"}}};var g={"int":function(){var j={hide:i.Hide};i.Trigger(e.trigger);if(typeof e.closebtn==="string"){g.close(e.closebtn)}else{for(var k=0;k<e.closebtn.length;k++){g.close(e.closebtn[k])}}if(6==YAHOO.env.ua.ie){a.onDOMReady(function(){a.on(window,"resize",i.Ie6fn);a.on(window,"scroll",i.Ie6fn)})}return j},close:function(j){var k=b.get(j);a.on(k,"click",i.Hide)},fire:function(){g["int"]();i.Createshade();i.Target()}};return g};YAHOO.util.popup=TB.popup})();