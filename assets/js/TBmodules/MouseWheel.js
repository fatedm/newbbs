(function(){var c=YAHOO,b=c.util.Dom,a=c.util.Event;TB.namespace("MouseWheel");TB.MouseWheel=function(h){var d={sBGElId:"",sHandleElId:"",iUp:0,iDown:"",iTickSize:"",Direction:"vertical",Maxheight:"",Mousepx:50,DivTop:0,callback:function(){}};YAHOO.lang.augmentObject(d,h,true);d.ScrollHeght=b.get(d.sBGElId).scrollHeight;var g={mousewheel:function(j,i){if(document.addEventListener){document.getElementById(j).addEventListener("DOMMouseScroll",i,false)}document.getElementById(j).onmousewheel=i},mousefunc:function(j,i){var k=g.direction(j);if(k>0){g.wheelup(i)}else{g.wheeldown(i)}a.stopEvent(j)},direction:function(i){var j=0;if(i.wheelDelta){j=i.wheelDelta>0?1:-1}else{if(i.detail){j=i.detail<0?1:-1}}return j},wheelup:function(j){d.DivTop=d.DivTop-d.Mousepx;var i=d.DivTop*d.Maxheight/d.ScrollHeght;j.setValue(i);if(d.DivTop<0){d.DivTop=0}},wheeldown:function(j){d.DivTop=d.DivTop+d.Mousepx;var i=d.DivTop*d.Maxheight/d.ScrollHeght;j.setValue(i);if(d.DivTop>d.ScrollHeght){d.DivTop=d.ScrollHeght}}};var f=b.get(d.sBGElId);var e=b.getFirstChild(f).offsetHeight;return function(){if(d.ScrollHeght>d.Maxheight){var i=YAHOO.widget.Slider.getVertSlider(d.sBGElId,d.sHandleElId,d.iUp,d.iDown,d.iTickSize);i.backgroundEnabled=false;i.subscribe("change",function(j){d.DivTop=j*(d.ScrollHeght/d.Maxheight);if(j==d.iDown){b.get(d.sBGElId).scrollTop=d.ScrollHeght}else{b.get(d.sBGElId).scrollTop=d.DivTop}});g.mousewheel(d.sBGElId,function(j){j=j||window.event;g.mousefunc(j,i)});d.callback(e);return i}else{d.callback(e)}}()}})();