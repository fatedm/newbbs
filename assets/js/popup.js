(function(){var c=YAHOO,b=c.util.Dom,a=c.util.Event;c.util.popup=function(e,f,g){var d=this;this.status="none";this.ffh=parseInt(b.getStyle(f,"height"))/2;this.w=parseInt(b.getStyle(f,"width"))/2;this.adjustPostion=function(k,j,i){var m=b.get(k);if(m){b.addClass(m,"supernatant");var l=b.getDocumentScrollTop()+(b.getViewportHeight()/2-this.ffh);m.style.cssText="display:"+j+";margin-left:-"+i+"px;top:"+l+"px;"}};this.adjustBackground=function(i,m,l){var k=b.get("mypopupshadeDiv");if(k){var j=k.contentWindow.document;if(!j.body){j.designMode="On";j.contentEditable=true;j.open();j.writeln('<body style="margin:0px;padding:0px;background:#000;"></body>');j.close()}b.addClass(k,"bigshade");k.style.cssText="display:"+i+";height:"+m+"px;top:"+l+"px;"}};this.createshade=function(){var i=document.getElementsByTagName("body")[0];if(!b.get("mypopupshadeDiv")){if(6==YAHOO.env.ua.ie){var h=document.createElement("iframe");h.allowtranseparency=true;h.src="about:blank"}else{var h=document.createElement("div");b.addClass(h,"bigshade")}h.id="mypopupshadeDiv";i.appendChild(h)}};this.ie6fn=function(){d.adjustPostion(f,d.status,d.w);d.adjustBackground(d.status,b.getViewportHeight(),b.getDocumentScrollTop())};this.hide=function(){b.addClass(f,"hidden");var i=document.getElementsByTagName("body")[0],h=b.get("mypopupshadeDiv");i.removeChild(h);d.status="none"};return{"int":function(){this.Event(e);if(typeof g==="string"){this.close(g)}else{for(var h=0;h<g.length;h++){this.close(g[h])}}if(6==YAHOO.env.ua.ie){a.onDOMReady(function(){a.on(window,"resize",d.ie6fn);a.on(window,"scroll",d.ie6fn)})}return{hide:d.hide}},Event:function(h){var j=b.get(h),i=this;a.on(j,"click",i.trigger)},trigger:function(){b.removeClass(f,"hidden");d.createshade();if(6==YAHOO.env.ua.ie){d.status="block";d.ie6fn()}else{b.addClass(f,"supernatant");if(YAHOO.env.ua.opera){var i=parseInt(b.getStyle(f,"height"))/2,h=parseInt(b.getStyle(f,"width"))/2;b.get(f).style.cssText="margin-left:-"+h+"px;margin-top:-"+i+"px"}else{b.get(f).style.cssText="margin-left:-"+d.w+"px;margin-top:-"+d.ffh+"px"}}},close:function(h){var i=b.get(h);a.on(i,"click",d.hide)},fire:function(){this["int"]();d.createshade();this["trigger"]()}}}})();
